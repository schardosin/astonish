"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[6559],{4839:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>r,contentTitle:()=>a,default:()=>d,frontMatter:()=>i,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"concepts/tools","title":"Tools","description":"Tools are a powerful feature in Astonish that allow agents to interact with external systems and perform actions beyond simple text generation. They enable agents to read files, write data, execute shell commands, and more.","source":"@site/docs/concepts/tools.md","sourceDirName":"concepts","slug":"/concepts/tools","permalink":"/astonish/docs/concepts/tools","draft":false,"unlisted":false,"editUrl":"https://github.com/schardosin/astonish/tree/main/docs/docs/concepts/tools.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Nodes","permalink":"/astonish/docs/concepts/nodes"},"next":{"title":"YAML Configuration","permalink":"/astonish/docs/concepts/yaml-configuration"}}');var s=t(4848),l=t(8453);const i={sidebar_position:3},a="Tools",r={},c=[{value:"What are Tools?",id:"what-are-tools",level:2},{value:"Built-in Tools",id:"built-in-tools",level:2},{value:"read_file",id:"read_file",level:3},{value:"write_file",id:"write_file",level:3},{value:"shell_command",id:"shell_command",level:3},{value:"validate_yaml_with_schema",id:"validate_yaml_with_schema",level:3},{value:"MCP Tools",id:"mcp-tools",level:2},{value:"Using Tools in Agents",id:"using-tools-in-agents",level:2},{value:"Example: File Reader Agent",id:"example-file-reader-agent",level:3},{value:"Tool Approval",id:"tool-approval",level:2},{value:"Tool Input Schemas",id:"tool-input-schemas",level:2},{value:"Tool Output",id:"tool-output",level:2},{value:"Creating Custom MCP Tools",id:"creating-custom-mcp-tools",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"Next Steps",id:"next-steps",level:2}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"tools",children:"Tools"})}),"\n",(0,s.jsx)(n.p,{children:"Tools are a powerful feature in Astonish that allow agents to interact with external systems and perform actions beyond simple text generation. They enable agents to read files, write data, execute shell commands, and more."}),"\n",(0,s.jsx)(n.h2,{id:"what-are-tools",children:"What are Tools?"}),"\n",(0,s.jsx)(n.p,{children:"Tools are functions that agents can use to perform specific tasks. They are invoked by the AI model during the execution of an LLM node and can:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Read and write files"}),"\n",(0,s.jsx)(n.li,{children:"Execute shell commands"}),"\n",(0,s.jsx)(n.li,{children:"Validate YAML content"}),"\n",(0,s.jsx)(n.li,{children:"Perform web searches (via MCP)"}),"\n",(0,s.jsx)(n.li,{children:"And much more, depending on the available tools"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"built-in-tools",children:"Built-in Tools"}),"\n",(0,s.jsx)(n.p,{children:"Astonish comes with several built-in tools that are always available:"}),"\n",(0,s.jsx)(n.h3,{id:"read_file",children:"read_file"}),"\n",(0,s.jsx)(n.p,{children:"Reads the contents of a file at the specified path."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"- name: read_document\n  type: llm\n  prompt: |\n    Read the contents of the file at path: {file_path}\n  output_model:\n    file_content: str\n  tools: true\n  tools_selection:\n    - read_file\n"})}),"\n",(0,s.jsx)(n.p,{children:"When the AI model invokes this tool, it will:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Request the file path"}),"\n",(0,s.jsx)(n.li,{children:"Read the file contents"}),"\n",(0,s.jsx)(n.li,{children:"Return the contents as a string"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"write_file",children:"write_file"}),"\n",(0,s.jsx)(n.p,{children:"Writes content to a file at the specified path."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"- name: save_summary\n  type: llm\n  prompt: |\n    Save the following summary to a file:\n    {summary}\n    \n    File path: {output_path}\n  output_model:\n    save_result: str\n  tools: true\n  tools_selection:\n    - write_file\n"})}),"\n",(0,s.jsx)(n.p,{children:"When the AI model invokes this tool, it will:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Request the file path and content"}),"\n",(0,s.jsx)(n.li,{children:"Write the content to the file"}),"\n",(0,s.jsx)(n.li,{children:"Return a confirmation message"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"shell_command",children:"shell_command"}),"\n",(0,s.jsx)(n.p,{children:"Executes a shell command and returns the output."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"- name: list_files\n  type: llm\n  prompt: |\n    List the files in the directory: {directory_path}\n  output_model:\n    file_list: str\n  tools: true\n  tools_selection:\n    - shell_command\n"})}),"\n",(0,s.jsx)(n.p,{children:"When the AI model invokes this tool, it will:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Request the command to execute"}),"\n",(0,s.jsx)(n.li,{children:"Run the command in a shell"}),"\n",(0,s.jsx)(n.li,{children:"Return the stdout and stderr output"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"validate_yaml_with_schema",children:"validate_yaml_with_schema"}),"\n",(0,s.jsx)(n.p,{children:"Validates YAML content against a schema."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"- name: validate_config\n  type: llm\n  prompt: |\n    Validate the following YAML configuration against the schema:\n    \n    Configuration:\n    {yaml_content}\n    \n    Schema:\n    {yaml_schema}\n  output_model:\n    validation_result: str\n  tools: true\n  tools_selection:\n    - validate_yaml_with_schema\n"})}),"\n",(0,s.jsx)(n.p,{children:"When the AI model invokes this tool, it will:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Request the YAML content and schema"}),"\n",(0,s.jsx)(n.li,{children:"Validate the content against the schema"}),"\n",(0,s.jsx)(n.li,{children:"Return validation results or errors"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"mcp-tools",children:"MCP Tools"}),"\n",(0,s.jsx)(n.p,{children:"In addition to built-in tools, Astonish supports MCP (Model Context Protocol) tools. These are external tools provided by MCP servers that can extend the capabilities of your agents."}),"\n",(0,s.jsx)(n.p,{children:"To use MCP tools:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Configure the MCP server in the MCP configuration file"}),"\n",(0,s.jsx)(n.li,{children:"Enable the tools in your agent's YAML configuration"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"- name: search_web\n  type: llm\n  prompt: |\n    Search the web for information about: {search_query}\n  output_model:\n    search_results: str\n  tools: true\n  tools_selection:\n    - tavily_search  # An MCP tool for web search\n"})}),"\n",(0,s.jsx)(n.h2,{id:"using-tools-in-agents",children:"Using Tools in Agents"}),"\n",(0,s.jsx)(n.p,{children:"To use tools in an agent, you need to:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Set ",(0,s.jsx)(n.code,{children:"tools: true"})," in the LLM node configuration"]}),"\n",(0,s.jsxs)(n.li,{children:["Specify the tools to use in the ",(0,s.jsx)(n.code,{children:"tools_selection"})," array"]}),"\n",(0,s.jsx)(n.li,{children:"Write a prompt that instructs the AI model to use the tools"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"example-file-reader-agent",children:"Example: File Reader Agent"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"description: An agent that reads a file and summarizes its content\nnodes:\n  - name: get_file_path\n    type: input\n    prompt: |\n      Please enter the path to the file you want to read:\n    output_model:\n      file_path: str\n\n  - name: read_file_content\n    type: llm\n    system: |\n      You are a file reading assistant.\n    prompt: |\n      Read the contents of the file at path: {file_path}\n    output_model:\n      file_content: str\n    tools: true\n    tools_selection:\n      - read_file\n\n  - name: summarize_content\n    type: llm\n    system: |\n      You are a summarization expert.\n    prompt: |\n      Summarize the following content:\n      {file_content}\n    output_model:\n      summary: str\n    user_message:\n      - summary\n\nflow:\n  - from: START\n    to: get_file_path\n  - from: get_file_path\n    to: read_file_content\n  - from: read_file_content\n    to: summarize_content\n  - from: summarize_content\n    to: END\n"})}),"\n",(0,s.jsx)(n.h2,{id:"tool-approval",children:"Tool Approval"}),"\n",(0,s.jsx)(n.p,{children:"By default, tool usage requires user approval. This means that when an AI model wants to use a tool, the user will be prompted to approve or deny the tool usage."}),"\n",(0,s.jsxs)(n.p,{children:["You can configure automatic approval for tools using the ",(0,s.jsx)(n.code,{children:"tools_auto_approval"})," field:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"- name: read_file_node\n  type: llm\n  prompt: |\n    Read the file at path: {file_path}\n  output_model:\n    file_content: str\n  tools: true\n  tools_selection:\n    - read_file\n  tools_auto_approval: true  # Tools will be used without user approval\n"})}),"\n",(0,s.jsx)(n.h2,{id:"tool-input-schemas",children:"Tool Input Schemas"}),"\n",(0,s.jsx)(n.p,{children:"Each tool has an input schema that defines the parameters it accepts. The AI model will generate input that conforms to this schema when using the tool."}),"\n",(0,s.jsxs)(n.p,{children:["For example, the ",(0,s.jsx)(n.code,{children:"read_file"})," tool has the following input schema:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"class ReadFileInput {\n  file_path: string;  // The path to the file to be read\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:"The AI model will generate JSON input like:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "file_path": "/path/to/file.txt"\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"tool-output",children:"Tool Output"}),"\n",(0,s.jsx)(n.p,{children:"Tools return their results as strings or structured data. The AI model will process this output and incorporate it into its response."}),"\n",(0,s.jsxs)(n.p,{children:["For example, the ",(0,s.jsx)(n.code,{children:"read_file"})," tool returns the file contents as a string, which the AI model can then process and summarize."]}),"\n",(0,s.jsx)(n.h2,{id:"creating-custom-mcp-tools",children:"Creating Custom MCP Tools"}),"\n",(0,s.jsx)(n.p,{children:"You can extend Astonish's capabilities by creating custom MCP tools. This involves:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Creating an MCP server that implements the tools"}),"\n",(0,s.jsx)(n.li,{children:"Configuring the server in the MCP configuration file"}),"\n",(0,s.jsx)(n.li,{children:"Using the tools in your agents"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["For more information on creating custom MCP tools, see the ",(0,s.jsx)(n.a,{href:"/docs/api/tools/mcp-tools",children:"MCP Tools"})," documentation."]}),"\n",(0,s.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Be specific in prompts"}),": Clearly instruct the AI model on when and how to use tools"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Handle errors"}),": Consider what might happen if a tool fails and provide guidance"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Use tools judiciously"}),": Only enable tools that are necessary for the node's function"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Consider security"}),": Be careful with tools that can modify the system or access sensitive data"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Test thoroughly"}),": Test your agents with various inputs to ensure tools are used correctly"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,s.jsx)(n.p,{children:"To learn more about tools in Astonish, check out:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/docs/api/tools/internal-tools",children:"Internal Tools"})," for details on built-in tools"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/docs/api/tools/mcp-tools",children:"MCP Tools"})," for information on extending Astonish with custom tools"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/docs/tutorials/using-tools",children:"Tutorials"})," for examples of using tools in agents"]}),"\n"]})]})}function d(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>a});var o=t(6540);const s={},l=o.createContext(s);function i(e){const n=o.useContext(l);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),o.createElement(l.Provider,{value:n},e.children)}}}]);